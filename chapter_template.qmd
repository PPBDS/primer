# XX: Title 

<!-- XX: The title is generally one word, referencing the main topic/data, like "Polls" or "Height". But more than one word is also fine, like "1992 Presidential Election". -->

<!-- XX: The purpose of this document is to serve as a template for the "normal" chapter in the Primer, which is more or less chapters 5 and higher. To use this, take this file, save it as `NN-subject.qmd`, where NN is a number, like "06", which indicates its approximate order in the book. Then, find all the XX-labeled comments, read them and delete them. -->

<!-- XX: Need to add the standard definitions below. In fact, we really need to centralize these definitions (as functions?) which could then be used here, in tutorials and so on. -->

<!-- XX: Here are some issues that I am still wrestling with:  -->

<!-- 1) Should we have one sentence, or one paragraph, definitions for the Cardinal Virtues? Probably both! We need a one sentence version which students might plausibly provide in the tutorials. But it would also be nice to have (short) one paragraph versions, like we do with Temperance below. -->

<!-- 2) Same one sentence versus one paragraph distinction applies to other terms, like validity below. -->


<!-- DK: Clarify sections without example. Ivy: Start with the tutorial. Expand off that tutorial, but creating more models, trying more variables and so on. -->


```{r}
#| label: hidden-libraries
#| message: false
#| echo: false
library(gt)
```

## Introduction

<!-- XX: Load all the packages which you will be using in the chapter and provide a bried discussion as to what we need them for. -->

### Scenarios

<!-- XX: There are always two scenarios, one requiring a predictive model and one a causal model. The order does not matter. Each scenario has a one sentence summary which is set out in its own paragraph and indented. That one sentence summary is followed by a paragraph with more detail. -->

## Wisdom

```{r}
#| echo: false
knitr::include_graphics("other/images/Wisdom.jpg")
```

**Wisdom** begins with a question and then moves on to the creation of a Preceptor Table and an examination of our data.


### EDA

<!-- XX: Always include a plot, either histogram or density, for the outcome variable.

Always include a plot with outcome on Y-axis and the key variable on the X-axis. -->

As (almost) always, we start by loading the **tidyverse** package.

```{r}
#| code-fold: false
#| message: false

library(tidyverse)
```

### Preceptor Table

A **Preceptor Table** is the smallest possible table of data with rows and columns such that, if there is no missing data, we can easily calculate the quantity of interest.

#### Scenario 1

*Units*: 

*Outcome*: 

*Causal or predictive model*: 

*Treatment*: 

*Covariates*: 

*Moment in Time*: 

<!-- XX: Insert Preceptor Table. -->


#### Scenario 2

*Units*: 

*Outcome*: 

*Causal or predictive model*: 

*Treatment*: 

*Covariates*: 

*Moment in Time*: 

<!-- XX: Insert Preceptor Table. -->

## Justice

```{r}
#| echo: false
knitr::include_graphics("other/images/Justice.jpg")
```

**Justice** concerns the Population Table and the four key assumptions which underlie it: validity, stability, representativeness, and unconfoundedness.

<!-- XX: Note that we need separate Population Tables for the two scenarios but not separate sections on the four assumptions. Often the same counter-examples will apply to both scenarios. And, even if we need different counter-examples, we keep the discussion within a single section. -->

### Validity

**Validity** is the consistency, or lack thereof, in the columns of the data set and the corresponding columns in the Preceptor Table. In order to consider the two data sets to be drawn from the same population, the columns from one must have a *valid correspondence* with the columns in the other. Validity, if true (or at least reasonable), allows us to construct the *Population Table*, which is the central result of Justice.



### Population Table

The **Population Table** includes a row for each unit/time combination in the underlying population from which both the Preceptor Table and the data are drawn.

#### Scenario 1

<!-- XX: Insert Poulation Table -->


#### Scenario 2

<!-- XX: Insert Poulation Table -->


### Stability

**Stability** means that the relationship between the columns in the Population Table is the same for three categories of rows: the data, the Preceptor Table, and the larger population from which both are drawn.

### Representativeness

**Representativeness**, or the lack thereof, concerns two relationships among the rows in the Population Table. The first is between the data and the other rows. The second is between the other rows and the Preceptor Table. Ideally, we would like both the Preceptor Table *and* our data to be random samples from the population. Sadly, this is almost never the case.

The *sampling mechanism* is the technical term for the process by which some people were sampled and some were not. We hope that all members of the population have the same chance of being sampled, or else our data might be unrepresentative of the larger population. Another term for this would be having a "biased" sample. Almost all samples have some bias, but we must make a judgement call to see if the data we have is close enough to the data we want (i.e., the Preceptor Table) that we can consider both as coming from the same population. 

### Unconfoundedness

**Unconfoundedness** means that the treatment assignment is independent of the potential outcomes, when we condition on pre-treatment covariates. This assumption is only relevant for causal models. We describe a model as "confounded" if this is not true. The easiest way to ensure unconfoundedness is to assign treatment randomly.

### Mathematics

## Courage

```{r}
#| echo: false
knitr::include_graphics("other/images/Courage.jpg")
```

**Courage** creates the data generating mechanism.


### Models

### Posterior Predictive Checks

### Testing

### Data Generating Mechanism

## Temperance

```{r}
#| echo: false
knitr::include_graphics("other/images/Temperance.jpg")
```

**Temperance** uses the data generating mechanism to answer the question with which we began. Humility reminds us that this answer is always a lie. We can also use the DGM to calculate many similar quantities of interest, displaying the results graphically.


### Questions and Answers

### Humility

*The world is always more uncertain than our models would have us believe.*
